{"version":3,"file":"6419-ad245d8fd2b71567fffc.js","mappings":"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","sources":["webpack://ic-design-system/./node_modules/@ukic/web-components/dist/esm/ic-tab-context.entry.js"],"sourcesContent":["import _classCallCheck from \"/home/runner/work/ic-design-system/ic-design-system/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/runner/work/ic-design-system/ic-design-system/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-1500de1f.js';\nimport { I as IcThemeForegroundEnum } from './types-dd515332.js';\nvar TabContext = /*#__PURE__*/function () {\n  function TabContext(hostRef) {\n    var _this = this;\n    _classCallCheck(this, TabContext);\n    registerInstance(this, hostRef);\n    this.tabSelect = createEvent(this, \"tabSelect\", 7);\n    // Sets attributes to link tabs and tabpanels\n    this.linkTabs = function () {\n      _this.tabs.forEach(function (tab, index) {\n        var tabId = \"ic-tab-\".concat(index, \"-context-\").concat(_this.contextId);\n        var tabPanelId = \"ic-tab-panel-\".concat(index, \"-context-\").concat(_this.contextId);\n        var shared = \"ic-tab--\".concat(index, \"-context-\").concat(_this.contextId);\n        tab.setAttribute(\"id\", tabId);\n        tab.tabId = shared;\n        tab.tabPosition = index;\n        tab.setAttribute(\"aria-controls\", tabPanelId);\n        tab.setAttribute(\"context-id\", _this.contextId);\n        _this.tabPanels[index].setAttribute(\"id\", tabPanelId);\n        _this.tabPanels[index].panelId = shared;\n        _this.tabPanels[index].tabPosition = index;\n        _this.tabPanels[index].setAttribute(\"aria-labelledby\", tabId);\n        if (_this.appearance === IcThemeForegroundEnum.Dark) {\n          tab.appearance = _this.appearance;\n        }\n      });\n      if (_this.appearance === IcThemeForegroundEnum.Dark) {\n        _this.tabGroup.appearance = _this.appearance;\n      }\n    };\n    // Gets tabs and tabpanels with the same context ID\n    this.getChildren = function () {\n      _this.tabGroup = Array.from(_this.host.querySelectorAll(\"ic-tab-group\")).find(function (tabGroup) {\n        return tabGroup.contextId === _this.contextId;\n      });\n      _this.tabs = Array.from(_this.tabGroup.querySelectorAll(\"ic-tab\")).filter(function (tab) {\n        return tab.contextId === _this.contextId;\n      });\n      _this.enabledTabs = _this.getEnabledTabs();\n      _this.tabPanels = Array.from(_this.host.querySelectorAll(\"ic-tab-panel\"));\n    };\n    // Determines how keyboard navigation is to be handled based on the activation type\n    this.attatchEventListeners = function () {\n      if (_this.activationType === \"automatic\") {\n        _this.tabGroup.addEventListener(\"keydown\", function (event) {\n          _this.handleKeyBoardNavAutomatic(event);\n        });\n      } else {\n        _this.tabGroup.addEventListener(\"keydown\", function (event) {\n          _this.handleKeyBoardNavManual(event);\n        });\n      }\n    };\n    // Determines whether the selected tab is being controlled within the component\n    // or by the user (via selectedTabIndex and onTabSelect)\n    this.setControlledMode = function () {\n      if (_this.selectedTabIndex !== undefined) {\n        _this.controlledMode = true;\n        _this.selectedTab = _this.selectedTabIndex;\n      }\n    };\n    // Sets the tab that is selected on initial render\n    this.setInitialTab = function () {\n      if (_this.controlledMode) {\n        _this.selectedTab = _this.selectedTabIndex;\n        _this.focusedTabIndex = _this.selectedTabIndex;\n      } else {\n        var firstEnabledTabIndex = _this.tabs.findIndex(function (tab) {\n          return tab.tabId === _this.enabledTabs[0].tabId;\n        });\n        _this.selectedTab = firstEnabledTabIndex;\n        _this.focusedTabIndex = firstEnabledTabIndex;\n      }\n    };\n    // Passes the selected tab to the tab and tab panel components\n    this.configureTabs = function () {\n      _this.enabledTabs.forEach(function (tab) {\n        tab.selected = tab.tabPosition === _this.selectedTab;\n      });\n      _this.tabPanels.forEach(function (tabPanel) {\n        tabPanel.selectedTab = _this.tabs[_this.selectedTab].tabId;\n      });\n    };\n    this.getEnabledTabs = function () {\n      return Array.from(_this.tabs).filter(function (child) {\n        return !child.disabled;\n      });\n    };\n    this.getIndexOfEnabledTab = function (allTabsIndex) {\n      return _this.enabledTabs.findIndex(function (tab) {\n        return tab.tabId === _this.tabs[allTabsIndex].tabId;\n      });\n    };\n    // Sets focus on tab and selects it\n    this.keyboardSelectTab = function (enabledTabIndex) {\n      var newIndex = _this.tabs.findIndex(function (tab) {\n        return tab.tabId === _this.enabledTabs[enabledTabIndex].tabId;\n      });\n      _this.enabledTabs[enabledTabIndex].focus();\n      if (!_this.controlledMode) {\n        _this.selectedTab = newIndex;\n      } else {\n        _this.tabSelect.emit({\n          tabIndex: newIndex\n        });\n      }\n    };\n    // Sets focus on tab without selecting it (for manual activation)\n    this.keyboardFocusTab = function (enabledTabIndex) {\n      var newIndex = _this.tabs.findIndex(function (tab) {\n        return tab.tabId === _this.enabledTabs[enabledTabIndex].tabId;\n      });\n      _this.enabledTabs[enabledTabIndex].focus();\n      _this.focusedTabIndex = newIndex;\n    };\n    this.handleKeyBoardNavAutomatic = function (event) {\n      var key = event.key;\n      var enabledTabIndex = _this.getIndexOfEnabledTab(_this.selectedTab);\n      var preventDefault = true;\n      switch (key) {\n        case \"Home\":\n          _this.keyboardSelectTab(0);\n          break;\n        case \"End\":\n          _this.keyboardSelectTab(_this.enabledTabs.length - 1);\n          break;\n        case \"ArrowRight\":\n          if (enabledTabIndex < _this.enabledTabs.length - 1) {\n            _this.keyboardSelectTab(enabledTabIndex + 1);\n          } else {\n            _this.keyboardSelectTab(0);\n          }\n          break;\n        case \"ArrowLeft\":\n          if (enabledTabIndex > 0) {\n            _this.keyboardSelectTab(enabledTabIndex - 1);\n          } else {\n            _this.keyboardSelectTab(_this.enabledTabs.length - 1);\n          }\n          break;\n        default:\n          preventDefault = false;\n      }\n      if (preventDefault) event.preventDefault();\n    };\n    this.handleKeyBoardNavManual = function (event) {\n      var key = event.key;\n      var enabledTabIndex = _this.getIndexOfEnabledTab(_this.focusedTabIndex);\n      var preventDefault = true;\n      switch (key) {\n        case \"Home\":\n          _this.keyboardFocusTab(0);\n          break;\n        case \"End\":\n          _this.keyboardFocusTab(_this.enabledTabs.length - 1);\n          break;\n        case \"ArrowRight\":\n          if (enabledTabIndex < _this.enabledTabs.length - 1) {\n            _this.keyboardFocusTab(enabledTabIndex + 1);\n          } else {\n            _this.keyboardFocusTab(0);\n          }\n          break;\n        case \"ArrowLeft\":\n          if (enabledTabIndex > 0) {\n            _this.keyboardFocusTab(enabledTabIndex - 1);\n          } else {\n            _this.keyboardFocusTab(_this.enabledTabs.length - 1);\n          }\n          break;\n        case \"Enter\":\n          _this.keyboardSelectTab(_this.focusedTabIndex);\n          break;\n        case \" \":\n          _this.keyboardSelectTab(_this.focusedTabIndex);\n          break;\n        default:\n          preventDefault = false;\n      }\n      if (preventDefault) event.preventDefault();\n    };\n    this.contextId = \"default\";\n    this.activationType = \"automatic\";\n    this.selectedTabIndex = undefined;\n    this.appearance = \"light\";\n    this.selectedTab = undefined;\n  }\n  _createClass(TabContext, [{\n    key: \"updateSelectedTab\",\n    value: function updateSelectedTab(newValue) {\n      this.selectedTab = newValue;\n    }\n  }, {\n    key: \"tabClickHandler\",\n    value: function tabClickHandler(event) {\n      if (this.selectedTabIndex === undefined && event.detail.contextId === this.contextId) {\n        this.selectedTab = event.detail.position;\n      }\n      this.tabSelect.emit({\n        tabIndex: event.detail.position\n      });\n    }\n  }, {\n    key: \"componentDidLoad\",\n    value: function componentDidLoad() {\n      this.setControlledMode();\n      this.getChildren();\n      this.linkTabs();\n      this.attatchEventListeners();\n      this.setInitialTab();\n      this.configureTabs();\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {\n      this.configureTabs();\n    }\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      var _this2 = this;\n      if (this.activationType === \"manual\") {\n        this.tabGroup.removeEventListener(\"keydown\", function (event) {\n          return _this2.handleKeyBoardNavManual(event);\n        });\n      } else {\n        this.tabGroup.removeEventListener(\"keydown\", function (event) {\n          return _this2.handleKeyBoardNavAutomatic(event);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return h(\"slot\", null);\n    }\n  }, {\n    key: \"host\",\n    get: function get() {\n      return getElement(this);\n    }\n  }], [{\n    key: \"watchers\",\n    get: function get() {\n      return {\n        \"selectedTabIndex\": [\"updateSelectedTab\"]\n      };\n    }\n  }]);\n  return TabContext;\n}();\nexport { TabContext as ic_tab_context };"],"names":["TabContext","hostRef","_this","this","r","tabSelect","c","linkTabs","tabs","forEach","tab","index","tabId","concat","contextId","tabPanelId","shared","setAttribute","tabPosition","tabPanels","panelId","appearance","I","tabGroup","getChildren","Array","from","host","querySelectorAll","find","filter","enabledTabs","getEnabledTabs","attatchEventListeners","activationType","addEventListener","event","handleKeyBoardNavAutomatic","handleKeyBoardNavManual","setControlledMode","undefined","selectedTabIndex","controlledMode","selectedTab","setInitialTab","focusedTabIndex","firstEnabledTabIndex","findIndex","configureTabs","selected","tabPanel","child","disabled","getIndexOfEnabledTab","allTabsIndex","keyboardSelectTab","enabledTabIndex","newIndex","focus","emit","tabIndex","keyboardFocusTab","key","preventDefault","length","value","newValue","detail","position","_this2","removeEventListener","h","get","g"],"sourceRoot":""}