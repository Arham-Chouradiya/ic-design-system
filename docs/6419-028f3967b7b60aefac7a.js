"use strict";(self.webpackChunkic_design_system=self.webpackChunkic_design_system||[]).push([[6419],{6419:function(e,t,a){a.r(t),a.d(t,{ic_tab_context:function(){return o}});var n=a(5671),d=a(3144),i=a(6902),o=function(){function e(t){var a=this;(0,n.Z)(this,e),(0,i.r)(this,t),this.tabSelect=(0,i.c)(this,"tabSelect",7),this.linkTabs=function(){a.tabs.forEach((function(e,t){var n="ic-tab-".concat(t,"-context-").concat(a.contextId),d="ic-tab-panel-".concat(t,"-context-").concat(a.contextId),i="ic-tab--".concat(t,"-context-").concat(a.contextId);e.setAttribute("id",n),e.tabId=i,e.tabPosition=t,e.setAttribute("aria-controls",d),e.setAttribute("context-id",a.contextId),a.tabPanels[t].setAttribute("id",d),a.tabPanels[t].panelId=i,a.tabPanels[t].tabPosition=t,a.tabPanels[t].setAttribute("aria-labelledby",n),a.dark&&(e.dark=!0)})),a.dark&&(a.tabList.dark=!0)},this.getChildren=function(){a.tabList=Array.from(a.host.querySelectorAll("ic-tab-list")).find((function(e){return e.contextId===a.contextId})),a.tabs=Array.from(a.tabList.querySelectorAll("ic-tab")).filter((function(e){return e.contextId===a.contextId})),a.enabledTabs=a.getEnabledTabs(),a.tabPanels=Array.from(a.host.querySelectorAll("ic-tab-panel"))},this.attatchEventListeners=function(){"automatic"===a.activationType?a.tabList.addEventListener("keydown",(function(e){a.handleKeyBoardNavAutomatic(e)})):a.tabList.addEventListener("keydown",(function(e){a.handleKeyBoardNavManual(e)}))},this.setControlledMode=function(){void 0!==a.selectedTabIndex&&(a.controlledMode=!0,a.selectedTab=a.selectedTabIndex)},this.setInitialTab=function(){if(a.controlledMode)a.selectedTab=a.selectedTabIndex,a.focusedTabIndex=a.selectedTabIndex;else{var e=a.tabs.findIndex((function(e){return e.tabId===a.enabledTabs[0].tabId}));a.selectedTab=e,a.focusedTabIndex=e}},this.configureTabs=function(){a.enabledTabs.forEach((function(e){e.selected=e.tabPosition===a.selectedTab})),a.tabPanels.forEach((function(e){e.selectedTab=a.tabs[a.selectedTab].tabId}))},this.getEnabledTabs=function(){return Array.from(a.tabs).filter((function(e){return!e.disabled}))},this.getIndexOfEnabledTab=function(e){return a.enabledTabs.findIndex((function(t){return t.tabId===a.tabs[e].tabId}))},this.keyboardSelectTab=function(e){var t=a.tabs.findIndex((function(t){return t.tabId===a.enabledTabs[e].tabId}));a.enabledTabs[e].focus(),a.controlledMode?a.tabSelect.emit({tabIndex:t}):a.selectedTab=t},this.keyboardFocusTab=function(e){var t=a.tabs.findIndex((function(t){return t.tabId===a.enabledTabs[e].tabId}));a.enabledTabs[e].focus(),a.focusedTabIndex=t},this.handleKeyBoardNavAutomatic=function(e){var t=e.key,n=a.getIndexOfEnabledTab(a.selectedTab),d=!0;switch(t){case"Home":a.keyboardSelectTab(0);break;case"End":a.keyboardSelectTab(a.enabledTabs.length-1);break;case"ArrowRight":n<a.enabledTabs.length-1?a.keyboardSelectTab(n+1):a.keyboardSelectTab(0);break;case"ArrowLeft":n>0?a.keyboardSelectTab(n-1):a.keyboardSelectTab(a.enabledTabs.length-1);break;default:d=!1}d&&e.preventDefault()},this.handleKeyBoardNavManual=function(e){var t=e.key,n=a.getIndexOfEnabledTab(a.focusedTabIndex),d=!0;switch(t){case"Home":a.keyboardFocusTab(0);break;case"End":a.keyboardFocusTab(a.enabledTabs.length-1);break;case"ArrowRight":n<a.enabledTabs.length-1?a.keyboardFocusTab(n+1):a.keyboardFocusTab(0);break;case"ArrowLeft":n>0?a.keyboardFocusTab(n-1):a.keyboardFocusTab(a.enabledTabs.length-1);break;case"Enter":case" ":a.keyboardSelectTab(a.focusedTabIndex);break;default:d=!1}d&&e.preventDefault()},this.contextId="default",this.activationType="automatic",this.selectedTabIndex=void 0,this.dark=!1,this.selectedTab=void 0}return(0,d.Z)(e,[{key:"updateSelectedTab",value:function(e){this.selectedTab=e}},{key:"tabClickHandler",value:function(e){void 0===this.selectedTabIndex&&e.detail.contextId===this.contextId&&(this.selectedTab=e.detail.position),this.tabSelect.emit({tabIndex:e.detail.position})}},{key:"componentDidLoad",value:function(){this.setControlledMode(),this.getChildren(),this.linkTabs(),this.attatchEventListeners(),this.setInitialTab(),this.configureTabs()}},{key:"componentWillUpdate",value:function(){this.configureTabs()}},{key:"disconnectedCallback",value:function(){var e=this;"manual"===this.activationType?this.tabList.removeEventListener("keydown",(function(t){return e.handleKeyBoardNavManual(t)})):this.tabList.removeEventListener("keydown",(function(t){return e.handleKeyBoardNavAutomatic(t)}))}},{key:"render",value:function(){return(0,i.h)("slot",null)}},{key:"host",get:function(){return(0,i.g)(this)}}],[{key:"watchers",get:function(){return{selectedTabIndex:["updateSelectedTab"]}}}]),e}()}}]);
//# sourceMappingURL=6419-028f3967b7b60aefac7a.js.map